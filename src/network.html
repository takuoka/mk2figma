<script>

// invisible html to create network requests.

// const pjListJsonStr = '{"projects":[{"id":11702,"collected_money":226702500,"collected_supporter":2687,"expiration_date":1604048400,"time_left_label":"29日","percent":22670,"image_url":"https://hayabusa.io/makuake/upload/project/11702/main_11702.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601473512\u0026force","title":"コンパクトで高出力！カスタマイズポータブル電源「RIVER 600 シリーズ」","url":"https://www.makuake.com/project/river_600/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11489,"collected_money":73521994,"collected_supporter":1762,"expiration_date":1603875600,"time_left_label":"27日","percent":14704,"image_url":"https://hayabusa.io/makuake/upload/project/11489/main_11489.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601473507\u0026force","title":"日常使いから緊急時まで！暮らしにとけこむポータブル電源「PowerStudio」","url":"https://www.makuake.com/project/powerstudio/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12003,"collected_money":52756000,"collected_supporter":2503,"expiration_date":1607245200,"time_left_label":"66日","percent":5275,"image_url":"https://hayabusa.io/makuake/upload/project/12003/main_12003.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601473594\u0026force","title":"家庭用低温調理器の決定版！ BONIQ 2.0","url":"https://www.makuake.com/project/boniq20/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11818,"collected_money":35538360,"collected_supporter":713,"expiration_date":1603962000,"time_left_label":"28日","percent":11846,"image_url":"https://hayabusa.io/makuake/upload/project/11818/main_11818.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601469044\u0026force","title":"車中泊とキャンプがもっと快適に！車に連結できるテントCARSULE（カースル）","url":"https://www.makuake.com/project/carsule/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11882,"collected_money":31428540,"collected_supporter":999,"expiration_date":1602061200,"time_left_label":"6日","percent":3142,"image_url":"https://hayabusa.io/makuake/upload/project/11882/main_11882.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1600903868\u0026force","title":"のぞきながら撮れる！キヤノンの望遠鏡型カメラ PowerShot ZOOM","url":"https://www.makuake.com/project/powershotzoom/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11658,"collected_money":19929800,"collected_supporter":542,"expiration_date":1602061200,"time_left_label":"6日","percent":3985,"image_url":"https://hayabusa.io/makuake/upload/project/11658/main_11658.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601470672\u0026force","title":"高精度の文字起こし・同時通訳！大画面ハイエンドAIボイスレコーダー Summit","url":"https://www.makuake.com/project/langogo-summit/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11608,"collected_money":14194675,"collected_supporter":547,"expiration_date":1604048400,"time_left_label":"29日","percent":1419,"image_url":"https://hayabusa.io/makuake/upload/project/11608/main_11608.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601462625\u0026force","title":"喋るだけでも飛んでしまう「飛沫」を防ぐ。抗ウイルス空気清浄機 フォトンクリーナー","url":"https://www.makuake.com/project/photon-cleaner/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12002,"collected_money":13373949,"collected_supporter":1493,"expiration_date":1606640400,"time_left_label":"59日","percent":1337,"image_url":"https://hayabusa.io/makuake/upload/project/12002/main_12002.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601472865\u0026force","title":"たった15gで劇的に歩行パフォーマンスを向上させるインソール「バイン」","url":"https://www.makuake.com/project/regeta/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11414,"collected_money":13290343,"collected_supporter":1746,"expiration_date":1603962000,"time_left_label":"28日","percent":2658,"image_url":"https://hayabusa.io/makuake/upload/project/11414/main_11414.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601441012\u0026force","title":"スマートマスクで、マスク生活が便利に。翻訳や議事録もできる「C-FACE」","url":"https://www.makuake.com/project/c-face/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11895,"collected_money":12226840,"collected_supporter":1112,"expiration_date":1604048400,"time_left_label":"29日","percent":4075,"image_url":"https://hayabusa.io/makuake/upload/project/11895/main_11895.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601471237\u0026force","title":"【理想の枕５条件】を全て満たす「安眠」を追求したぷるんぷるん新感覚枕FitNek","url":"https://www.makuake.com/project/fitnek/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11944,"collected_money":12007600,"collected_supporter":1421,"expiration_date":1603616400,"time_left_label":"24日","percent":12007,"image_url":"https://hayabusa.io/makuake/upload/project/11944/main_11944.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601471113\u0026force","title":"足裏アーチをサポート！重心・姿勢も整う足裏着圧タイツ PigaONE〔ピガワン〕","url":"https://www.makuake.com/project/pigaone/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11881,"collected_money":10753000,"collected_supporter":534,"expiration_date":1604048400,"time_left_label":"29日","percent":1075,"image_url":"https://hayabusa.io/makuake/upload/project/11881/main_11881.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601450005\u0026force","title":"どこでも簡単に、会社よりも集中できる書斎を。『Think Lab HOME』","url":"https://www.makuake.com/project/thinklabhome/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11880,"collected_money":10468080,"collected_supporter":464,"expiration_date":1603011600,"time_left_label":"17日","percent":2093,"image_url":"https://hayabusa.io/makuake/upload/project/11880/main_11880.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601468295\u0026force","title":"届いて即使える！コンパクトに収納できる四角いフィットネスバイク「BIKEBOX」","url":"https://www.makuake.com/project/bikebox/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12097,"collected_money":9609800,"collected_supporter":792,"expiration_date":1604048400,"time_left_label":"29日","percent":3203,"image_url":"https://hayabusa.io/makuake/upload/project/12097/main_12097.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601468882\u0026force","title":"薄型でも多機能。洗練された本物志向のバーベキューコンロ FENNEK Grill","url":"https://www.makuake.com/project/fennekgrill/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11492,"collected_money":9272900,"collected_supporter":210,"expiration_date":1602838800,"time_left_label":"15日","percent":1854,"image_url":"https://hayabusa.io/makuake/upload/project/11492/main_11492.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601441768\u0026force","title":"シャオミ・エコシステム発！掃除が劇的ラク＆時短に！サイクロン掃除機shunzao","url":"https://www.makuake.com/project/shunzao/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]}],"pagination":{"page":1,"per_page":15,"total":366}}'
const pjListJsonStr = '{"projects":[{"id":11492,"collected_money":9272900,"collected_supporter":210,"expiration_date":1602838800,"time_left_label":"15日","percent":1854,"image_url":"https://hayabusa.io/makuake/upload/project/11492/main_11492.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601441768\u0026force","title":"シャオミ・エコシステム発！掃除が劇的ラク＆時短に！サイクロン掃除機shunzao","url":"https://www.makuake.com/project/shunzao/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11440,"collected_money":9209051,"collected_supporter":4016,"expiration_date":1601888400,"time_left_label":"4日","percent":9209,"image_url":"https://hayabusa.io/makuake/upload/project/11440/main_11440.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601480809\u0026force","title":"【ドイツ発】世界最薄級のスマホグリップ「goBelt」、ワイヤレス充電もOK！","url":"https://www.makuake.com/project/gobelt/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11854,"collected_money":8806693,"collected_supporter":730,"expiration_date":1603789200,"time_left_label":"26日","percent":2935,"image_url":"https://hayabusa.io/makuake/upload/project/11854/main_11854.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601479221\u0026force","title":"残業が多い方に絶賛おすすめ！たった10分で腰の筋肉をほぐす「isoSpine」","url":"https://www.makuake.com/project/isospine/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11892,"collected_money":8481900,"collected_supporter":1295,"expiration_date":1606122000,"time_left_label":"53日","percent":2827,"image_url":"https://hayabusa.io/makuake/upload/project/11892/main_11892.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601479680\u0026force","title":"人間工学設計で耳が痛くならない！世界最軽量クラスTWSイヤホン「NOTE20」","url":"https://www.makuake.com/project/note20/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11988,"collected_money":8238950,"collected_supporter":259,"expiration_date":1603702800,"time_left_label":"25日","percent":8238,"image_url":"https://hayabusa.io/makuake/upload/project/11988/main_11988.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601473375\u0026force","title":"薄く軽いのにスチールの２００倍強い！奇跡のグラフェン製GRAnaRECジャケット","url":"https://www.makuake.com/project/granarec_jacket1/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11790,"collected_money":7930993,"collected_supporter":1715,"expiration_date":1603011600,"time_left_label":"17日","percent":7930,"image_url":"https://hayabusa.io/makuake/upload/project/11790/main_11790.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601473777\u0026force","title":"ポケット空っぽで出かけよう ! 引っ掛けて持ち歩く超薄型ウエストポーチ。即!身軽","url":"https://www.makuake.com/project/one80pouch/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11553,"collected_money":7797810,"collected_supporter":516,"expiration_date":1603011600,"time_left_label":"17日","percent":3898,"image_url":"https://hayabusa.io/makuake/upload/project/11553/main_11553.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601462446\u0026force","title":"暑い日も寒い日もちょうどいい。1年中 - 快適 - 日本製【９重織ガーゼケット】","url":"https://www.makuake.com/project/oriichi_kyujyuori/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11885,"collected_money":7691540,"collected_supporter":98,"expiration_date":1604048400,"time_left_label":"29日","percent":769,"image_url":"https://hayabusa.io/makuake/upload/project/11885/main_11885.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601354095\u0026force","title":"創業明治28年の医療機器メーカーが贈るオゾン発生器BIOZONE(バイオゾーン)","url":"https://www.makuake.com/project/biozoneseries/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11961,"collected_money":7374015,"collected_supporter":192,"expiration_date":1609318800,"time_left_label":"90日","percent":49,"image_url":"https://hayabusa.io/makuake/upload/project/11961/main_11961.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601452523\u0026force","title":"日本酒＋ペルチェ素子＋能作の錫で約10℃～55℃の温度の移ろいを愉しむ酒器","url":"https://www.makuake.com/project/hiyakan/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12047,"collected_money":7177616,"collected_supporter":844,"expiration_date":1604048400,"time_left_label":"29日","percent":1435,"image_url":"https://hayabusa.io/makuake/upload/project/12047/main_12047.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601479444\u0026force","title":"耳の中が丸見え！！300万画素のLEDカメラを搭載したハイテク耳かき！","url":"https://www.makuake.com/project/lestar2/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12079,"collected_money":7008286,"collected_supporter":514,"expiration_date":1604048400,"time_left_label":"29日","percent":7008,"image_url":"https://hayabusa.io/makuake/upload/project/12079/main_12079.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601474402\u0026force","title":"ゴミ捨て全自動時代！！最薄20cm自動密閉・交換式ゴミ箱townew【T3】","url":"https://www.makuake.com/project/townew_t3/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12113,"collected_money":6703556,"collected_supporter":86,"expiration_date":1603962000,"time_left_label":"28日","percent":2234,"image_url":"https://hayabusa.io/makuake/upload/project/12113/main_12113.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601474841\u0026force","title":"驚異の明るさ5000ルーメン＆300インチ大画面で、どこでも極上の映像体験を！","url":"https://www.makuake.com/project/aurora/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11716,"collected_money":6477240,"collected_supporter":471,"expiration_date":1603011600,"time_left_label":"17日","percent":2159,"image_url":"https://hayabusa.io/makuake/upload/project/11716/main_11716.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601473583\u0026force","title":"空気圧はスマホで一発確認！24H自動監視モニター FOBOBIKE2","url":"https://www.makuake.com/project/fobobike2/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11853,"collected_money":6361740,"collected_supporter":389,"expiration_date":1604048400,"time_left_label":"29日","percent":2120,"image_url":"https://hayabusa.io/makuake/upload/project/11853/main_11853.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601476034\u0026force","title":"瞬間自動調光 クリップオン型サングラス ENETREE「airora clip」","url":"https://www.makuake.com/project/airora_clip/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11383,"collected_money":6296580,"collected_supporter":548,"expiration_date":1602406800,"time_left_label":"10日","percent":4197,"image_url":"https://hayabusa.io/makuake/upload/project/11383/main_11383.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601478541\u0026force","title":"100種類以上のボールペン芯が使える実用性の高いボールペンです！","url":"https://www.makuake.com/project/antou/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]}],"pagination":{"page":2,"per_page":15,"total":366}}'
// const pjListJsonStr = '{"projects":[{"id":11962,"collected_money":6244180,"collected_supporter":292,"expiration_date":1603962000,"time_left_label":"28日","percent":3122,"image_url":"https://hayabusa.io/makuake/upload/project/11962/main_11962.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601435746\u0026force","title":"1TB SSDストレージ内蔵のUSB-Cハブ! 容量不足\u0026ポート不足にサヨナラ","url":"https://www.makuake.com/project/1tb/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12148,"collected_money":5951160,"collected_supporter":304,"expiration_date":1606640400,"time_left_label":"59日","percent":1983,"image_url":"https://hayabusa.io/makuake/upload/project/12148/main_12148.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601479276\u0026force","title":"快適すぎる急速充電！ノートPCにも使える大容量モバイルバッテリー「SUPER」","url":"https://www.makuake.com/project/super/","is_new":true,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11603,"collected_money":5676000,"collected_supporter":62,"expiration_date":1601974800,"time_left_label":"5日","percent":1892,"image_url":"https://hayabusa.io/makuake/upload/project/11603/main_11603.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601409757\u0026force","title":"腕の上の芸術！トゥールビヨンを搭載した腕時計「Viatre」（ヴィアトレ）","url":"https://www.makuake.com/project/viatre/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11809,"collected_money":5296000,"collected_supporter":452,"expiration_date":1605603600,"time_left_label":"47日","percent":176,"image_url":"https://hayabusa.io/makuake/upload/project/11809/main_11809.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601440418\u0026force","title":"東京蔵前に蒸留所！廃棄される運命の酒粕やビールをリユースし至高のジン造りに挑戦","url":"https://www.makuake.com/project/ethicalspirits/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12072,"collected_money":5177620,"collected_supporter":465,"expiration_date":1604048400,"time_left_label":"29日","percent":1035,"image_url":"https://hayabusa.io/makuake/upload/project/12072/main_12072.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601480130\u0026force","title":"AI技術＆骨伝導センサー搭載！いびきを見つけて振動刺激！いびきケアデバイス！","url":"https://www.makuake.com/project/snorecircleplus/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11529,"collected_money":4948800,"collected_supporter":208,"expiration_date":1603962000,"time_left_label":"28日","percent":2474,"image_url":"https://hayabusa.io/makuake/upload/project/11529/main_11529.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601473805\u0026force","title":"前後高画質カメラで、安全運転＆あおり運転対策！ミラー型ドライブレコーダーA20","url":"https://www.makuake.com/project/driverecorder_a20/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11666,"collected_money":4650640,"collected_supporter":733,"expiration_date":1603962000,"time_left_label":"28日","percent":2325,"image_url":"https://hayabusa.io/makuake/upload/project/11666/main_11666.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601471007\u0026force","title":"ワックス特有の艶×コーティングならではの防護力！拭くだけ簡単のカーケアスプレー","url":"https://www.makuake.com/project/quick_coating/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11811,"collected_money":4368573,"collected_supporter":217,"expiration_date":1602925200,"time_left_label":"16日","percent":1456,"image_url":"https://hayabusa.io/makuake/upload/project/11811/main_11811.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601469636\u0026force","title":"理想を実現したQUALCOMM搭載2in1完全ワイヤレスイヤホン＆スピーカー","url":"https://www.makuake.com/project/lua/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12026,"collected_money":4250200,"collected_supporter":1290,"expiration_date":1604307600,"time_left_label":"32日","percent":1416,"image_url":"https://hayabusa.io/makuake/upload/project/12026/main_12026.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601481013\u0026force","title":"コンパクトで持ち運びをスマートに。3in1急速充電ケーブルMAGIC BOX","url":"https://www.makuake.com/project/magic_box/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11890,"collected_money":4243152,"collected_supporter":577,"expiration_date":1603962000,"time_left_label":"28日","percent":4243,"image_url":"https://hayabusa.io/makuake/upload/project/11890/main_11890.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601479342\u0026force","title":"ポータブルスピーカーやオーディオ機器をワイヤレス化｜多機能トランスミッターK16","url":"https://www.makuake.com/project/transmitter_k16/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11721,"collected_money":4222802,"collected_supporter":429,"expiration_date":1604048400,"time_left_label":"29日","percent":1407,"image_url":"https://hayabusa.io/makuake/upload/project/11721/main_11721.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601453390\u0026force","title":"【薄さ】と【使いやすさ】両立を実現したワンアクション財布【SHUTTO】","url":"https://www.makuake.com/project/shutto/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11719,"collected_money":4124000,"collected_supporter":416,"expiration_date":1606640400,"time_left_label":"59日","percent":82,"image_url":"https://hayabusa.io/makuake/upload/project/11719/main_11719.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601471516\u0026force","title":"【ヤマハ発動機】防災ライダーFIST-AID；大切なものは自分の手で守る","url":"https://www.makuake.com/project/fistaid/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11966,"collected_money":4079400,"collected_supporter":140,"expiration_date":1604048400,"time_left_label":"29日","percent":815,"image_url":"https://hayabusa.io/makuake/upload/project/11966/main_11966.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601468410\u0026force","title":"これぞクラフトマンシップ。特別なソムリエナイフElephantで格別のワインを。","url":"https://www.makuake.com/project/elephant/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11798,"collected_money":4066400,"collected_supporter":215,"expiration_date":1602234000,"time_left_label":"8日","percent":4066,"image_url":"https://hayabusa.io/makuake/upload/project/11798/main_11798.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601479366\u0026force","title":"部屋でも野外でも使える。3Way真鍮ランタンスタンド「tsurusu」つるす","url":"https://www.makuake.com/project/tsurusu/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11460,"collected_money":4051206,"collected_supporter":555,"expiration_date":1603098000,"time_left_label":"18日","percent":1350,"image_url":"https://hayabusa.io/makuake/upload/project/11460/main_11460.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601474293\u0026force","title":"ポップでお洒落に持ち歩く！＜急速対応\u00264台同時充電＞ワイヤレスモバイルバッテリー","url":"https://www.makuake.com/project/mipow/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]}],"pagination":{"page":3,"per_page":15,"total":366}}'
// const pjListJsonStr = '{"projects":[{"id":12110,"collected_money":4013200,"collected_supporter":234,"expiration_date":1603962000,"time_left_label":"28日","percent":1337,"image_url":"https://hayabusa.io/makuake/upload/project/12110/main_12110.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601469962\u0026force","title":"90％エアーの3D繊維素材で通気性抜群！丸洗い可能な超軽量三つ折りマットレス","url":"https://www.makuake.com/project/touch-air/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12044,"collected_money":3637128,"collected_supporter":89,"expiration_date":1607936400,"time_left_label":"74日","percent":1212,"image_url":"https://hayabusa.io/makuake/upload/project/12044/main_12044.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601438871\u0026force","title":"【おうちシャワーでたった5分】ダニ・汚れを徹底除去「毎日、洗える、ふとん。」誕生","url":"https://www.makuake.com/project/washable-futon/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12116,"collected_money":3627840,"collected_supporter":301,"expiration_date":1606294800,"time_left_label":"55日","percent":1209,"image_url":"https://hayabusa.io/makuake/upload/project/12116/main_12116.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601467370\u0026force","title":"1分で足元ポカポカ！冬のアウトドアや屋内で使える『ヒーター搭載電熱シューズ』","url":"https://www.makuake.com/project/allegretto/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12012,"collected_money":3610991,"collected_supporter":499,"expiration_date":1606208400,"time_left_label":"54日","percent":1203,"image_url":"https://hayabusa.io/makuake/upload/project/12012/main_12012.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601481462\u0026force","title":"長財布愛用者に朗報！断捨離不要の小さな仕分け人コンパクト財布　TIDY　one","url":"https://www.makuake.com/project/hallelujah-one/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11535,"collected_money":3573488,"collected_supporter":259,"expiration_date":1603616400,"time_left_label":"24日","percent":54,"image_url":"https://hayabusa.io/makuake/upload/project/11535/main_11535.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601477293\u0026force","title":"「煙管は欲しいが煙草は要らん」の声に応えた絢爛豪華な和装飾「電子煙管・虎御前」","url":"https://www.makuake.com/project/numacha_mito/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12052,"collected_money":3552000,"collected_supporter":203,"expiration_date":1603011600,"time_left_label":"17日","percent":1184,"image_url":"https://hayabusa.io/makuake/upload/project/12052/main_12052.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601472812\u0026force","title":"東大阪の町工場が50年の経験で屈強な純チタンに挑戦！職人技を集結し作り上げる。","url":"https://www.makuake.com/project/blacksquare/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11963,"collected_money":3521400,"collected_supporter":92,"expiration_date":1603962000,"time_left_label":"28日","percent":1760,"image_url":"https://hayabusa.io/makuake/upload/project/11963/main_11963.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601393631\u0026force","title":"エンタメ空間へ早変わり！限られた体に凝縮された高性能プロジェクター「Ｐ11Ｓ」","url":"https://www.makuake.com/project/p11s/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12146,"collected_money":3459400,"collected_supporter":354,"expiration_date":1604048400,"time_left_label":"29日","percent":2306,"image_url":"https://hayabusa.io/makuake/upload/project/12146/main_12146.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601481646\u0026force","title":"つけているだけで運動効果UP!低重量トレーニングバンド「ライフィット」","url":"https://www.makuake.com/project/lifeit/","is_new":true,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12201,"collected_money":3344520,"collected_supporter":224,"expiration_date":1605430800,"time_left_label":"45日","percent":1114,"image_url":"https://hayabusa.io/makuake/upload/project/12201/main_12201.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601481548\u0026force","title":"スマホでムービー撮影の必需品！ 手のひらサイズの折りたたみ式ジンバル【Vpal】","url":"https://www.makuake.com/project/vpal/","is_new":true,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11828,"collected_money":3329480,"collected_supporter":681,"expiration_date":1604048400,"time_left_label":"29日","percent":1664,"image_url":"https://hayabusa.io/makuake/upload/project/11828/main_11828.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601477414\u0026force","title":"「1本7役」心くすぐるアウトドア用マルチツール「Chowpal」","url":"https://www.makuake.com/project/chowpal/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11776,"collected_money":3300596,"collected_supporter":137,"expiration_date":1604221200,"time_left_label":"31日","percent":660,"image_url":"https://hayabusa.io/makuake/upload/project/11776/main_11776.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601366594\u0026force","title":"圧倒的スチーム量と大容量タンク　衣類スチーマーの新常識「Minilys」","url":"https://www.makuake.com/project/minilys/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11510,"collected_money":3244000,"collected_supporter":469,"expiration_date":1601629200,"time_left_label":"40時間","percent":324,"image_url":"https://hayabusa.io/makuake/upload/project/11510/main_11510.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601479274\u0026force","title":"味わいスッキリ！和三盆の糖蜜から造ったラム酒を樽熟成させたい","url":"https://www.makuake.com/project/wasanbon-rum/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11704,"collected_money":3225000,"collected_supporter":459,"expiration_date":1604048400,"time_left_label":"29日","percent":645,"image_url":"https://hayabusa.io/makuake/upload/project/11704/main_11704.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601476398\u0026force","title":"マイクロファインバブル × アルカリイオンで汚れを落とす　エコ洗濯「バブッシュ」","url":"https://www.makuake.com/project/bealth/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12122,"collected_money":3171388,"collected_supporter":573,"expiration_date":1604048400,"time_left_label":"29日","percent":3171,"image_url":"https://hayabusa.io/makuake/upload/project/12122/main_12122.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601479730\u0026force","title":"もうステンレスボトルは使えない。何でも飲める磁器性KOKOROフラスク","url":"https://www.makuake.com/project/swanz_kokoro/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11825,"collected_money":3128994,"collected_supporter":238,"expiration_date":1605862800,"time_left_label":"50日","percent":1042,"image_url":"https://hayabusa.io/makuake/upload/project/11825/main_11825.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601465590\u0026force","title":"キャンプで楽しむ本格コーヒー。テーブルに挟んで使うFEDECAドリップスタンド","url":"https://www.makuake.com/project/fedeca03/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]}],"pagination":{"page":4,"per_page":15,"total":366}}'
// const pjListJsonStr = '{"projects":[{"id":11971,"collected_money":3114500,"collected_supporter":186,"expiration_date":1606640400,"time_left_label":"59日","percent":1557,"image_url":"https://hayabusa.io/makuake/upload/project/11971/main_11971.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601472400\u0026force","title":"薄さ・収納力・耐久性を兼ね備えたコンパクト財布の決定版「ICHI」","url":"https://www.makuake.com/project/ichi-wallet/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12054,"collected_money":2860200,"collected_supporter":212,"expiration_date":1603616400,"time_left_label":"24日","percent":953,"image_url":"https://hayabusa.io/makuake/upload/project/12054/main_12054.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601456466\u0026force","title":"スタイル+安全+快適を徹底的に追求した「プロテクトスニーカー」","url":"https://www.makuake.com/project/safety-sneaker/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12066,"collected_money":2835440,"collected_supporter":504,"expiration_date":1603443600,"time_left_label":"22日","percent":1417,"image_url":"https://hayabusa.io/makuake/upload/project/12066/main_12066.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601479350\u0026force","title":"異次元プロ仕様の深剃り体験をあなたに。刃物の本場ドイツ・ゾーリンゲンのシェーバー","url":"https://www.makuake.com/project/gf-solingen/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12150,"collected_money":2720300,"collected_supporter":138,"expiration_date":1603962000,"time_left_label":"28日","percent":906,"image_url":"https://hayabusa.io/makuake/upload/project/12150/main_12150.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601479677\u0026force","title":"1発でバッテリーON ！モタモタ感を解消する超軽量多機能ジャンプスターター","url":"https://www.makuake.com/project/powerjumper/","is_new":true,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12111,"collected_money":2534719,"collected_supporter":585,"expiration_date":1606035600,"time_left_label":"52日","percent":1267,"image_url":"https://hayabusa.io/makuake/upload/project/12111/main_12111.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601478754\u0026force","title":"【薬用ホワイトニングパウダー】歯の黄ジミを吸着し有効成分で口臭防止","url":"https://www.makuake.com/project/kichijiro2/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11996,"collected_money":2495720,"collected_supporter":210,"expiration_date":1604048400,"time_left_label":"29日","percent":1247,"image_url":"https://hayabusa.io/makuake/upload/project/11996/main_11996.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601455381\u0026force","title":"【電気スタンドEZVALO】シーンに合わせて「ちょうど良い明るさ」に無段階調整。","url":"https://www.makuake.com/project/ezvalo/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12050,"collected_money":2487330,"collected_supporter":346,"expiration_date":1605690000,"time_left_label":"48日","percent":829,"image_url":"https://hayabusa.io/makuake/upload/project/12050/main_12050.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601475156\u0026force","title":"飛沫感染から身を守る肌ケアマスク0.1◆150回洗っても続く抗菌\u0026抜群の防御力","url":"https://www.makuake.com/project/octo03/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11893,"collected_money":2475000,"collected_supporter":377,"expiration_date":1607418000,"time_left_label":"68日","percent":495,"image_url":"https://hayabusa.io/makuake/upload/project/11893/main_11893.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601480357\u0026force","title":"普段の生活で履くだけ、美しさと健康を手に入れる！魔法のFoot活サンダル","url":"https://www.makuake.com/project/foot-katsu/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11647,"collected_money":2466805,"collected_supporter":154,"expiration_date":1604048400,"time_left_label":"29日","percent":822,"image_url":"https://hayabusa.io/makuake/upload/project/11647/main_11647.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601288146\u0026force","title":"新しい日常に新しい発見を！一枚革を贅沢に使用した【本革防水エコバッグ】","url":"https://www.makuake.com/project/kawa_ecobag/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11855,"collected_money":2452032,"collected_supporter":229,"expiration_date":1603702800,"time_left_label":"25日","percent":490,"image_url":"https://hayabusa.io/makuake/upload/project/11855/main_11855.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601464597\u0026force","title":"盗撮 盗難 侵入 追跡の４つの危険をキャッチ!手のひらのサイズの隠しカメラ発見器","url":"https://www.makuake.com/project/vesany/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12101,"collected_money":2413850,"collected_supporter":267,"expiration_date":1604048400,"time_left_label":"29日","percent":804,"image_url":"https://hayabusa.io/makuake/upload/project/12101/main_12101.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601480642\u0026force","title":"洗ってもふわふわが続く。乾きやすくて楽チン「裸で寝たい気持ち良さのガーゼケット」","url":"https://www.makuake.com/project/363gauzeket/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12014,"collected_money":2370020,"collected_supporter":97,"expiration_date":1603962000,"time_left_label":"28日","percent":2370,"image_url":"https://hayabusa.io/makuake/upload/project/12014/main_12014.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601478574\u0026force","title":"26のツールを搭載した男前ギア！ 多機能アウトドアツール Baha SHOVEL","url":"https://www.makuake.com/project/baha_shovel/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12108,"collected_money":2364412,"collected_supporter":82,"expiration_date":1603184400,"time_left_label":"19日","percent":472,"image_url":"https://hayabusa.io/makuake/upload/project/12108/main_12108.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601480936\u0026force","title":"さらに進化した！サステナブル・エシカルダウン掛け布団で、心地よい眠りを。","url":"https://www.makuake.com/project/airflake3/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11850,"collected_money":2263773,"collected_supporter":319,"expiration_date":1604826000,"time_left_label":"38日","percent":226,"image_url":"https://hayabusa.io/makuake/upload/project/11850/main_11850.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601465191\u0026force","title":"究極の3-in-1AC充電器　高速充電ｘ自動バックアップｘ自動データ暗号化","url":"https://www.makuake.com/project/baut/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":11951,"collected_money":2208740,"collected_supporter":558,"expiration_date":1602493200,"time_left_label":"11日","percent":736,"image_url":"https://hayabusa.io/makuake/upload/project/11951/main_11951.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601479816\u0026force","title":"【大人気マスク第2弾×抗菌防臭】　お洒落と多機能を両立させた新発想の日本製マスク","url":"https://www.makuake.com/project/botanicfolk2/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]}],"pagination":{"page":5,"per_page":15,"total":366}}'
// const pjListJsonStr = '{"projects":[{"id":11819,"collected_money":1633860,"collected_supporter":80,"expiration_date":1603875600,"time_left_label":"27日","percent":816,"image_url":"https://hayabusa.io/makuake/upload/project/11819/main_11819.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601388637\u0026force","title":"旨味がギューッ！ヘルシーなのにジューシー！ありそうでなかった蒸し鍋体験！","url":"https://www.makuake.com/project/jia/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12091,"collected_money":1603970,"collected_supporter":162,"expiration_date":1603702800,"time_left_label":"25日","percent":1603,"image_url":"https://hayabusa.io/makuake/upload/project/12091/main_12091.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601473027\u0026force","title":"【第２弾】「純日本製」素材にこだわる大人サコッシュ！ご希望に応える横型デザイン。","url":"https://www.makuake.com/project/haleine02/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12064,"collected_money":1600100,"collected_supporter":324,"expiration_date":1604048400,"time_left_label":"29日","percent":3200,"image_url":"https://hayabusa.io/makuake/upload/project/12064/main_12064.jpg?fit=scale\u0026format=jpg\u0026ttl=31536000\u0026version=1601472757\u0026force","title":"【イギリス発】スマホをもっと便利にする！「動かせる」超万能型スタンド、登場！","url":"https://www.makuake.com/project/imstick/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12195,"collected_money":1595440,"collected_supporter":71,"expiration_date":1604048400,"time_left_label":"29日","percent":1595,"image_url":"https://hayabusa.io/makuake/upload/project/12195/main_12195.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601469752\u0026force","title":"外に連れ出せる「どこでもオーブン」キャンプ料理に革命を！！","url":"https://www.makuake.com/project/portablemulticooker/","is_new":true,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]},{"id":12056,"collected_money":1563200,"collected_supporter":132,"expiration_date":1604048400,"time_left_label":"29日","percent":781,"image_url":"https://hayabusa.io/makuake/upload/project/12056/main_12056.png?fit=scale\u0026format=png\u0026ttl=31536000\u0026version=1601457935\u0026force","title":"持ち歩きはこれ1台でO.K.！ワンランク上のモバイルバッテリー「vavofo」","url":"https://www.makuake.com/project/vavofo/","is_new":false,"is_store_opening":false,"has_target_money":true,"has_expiration":true,"is_accepting_support":true,"hide_collected_money":false,"returns":[]}],"pagination":{"page":20,"per_page":5,"total":366}}'

window.onmessage = event => {
    switch (event.data.pluginMessage.type) {
        case 'fetchProjectsJSON':
            fetchPJData();
            break;
    }
};

async function fetchPJData() {
    let proxyurl = 'https://figma-proxy-server.herokuapp.com/';
    let imgArray = [];

    fetchProjectsJSON()
        .then(async result => {

            var projectListLength = result.projects.length;
            var imageFinishCount = 0;

            result.projects.forEach((pj, index) => {

                console.log("let's get imamge....  pj   [" + index + "] " + pj.title)
                fetchImageToArray(index, pj.image_url, imgArray)
                    .then(()=> {
                        imageFinishCount++;
                        console.log("image load finish:" + imageFinishCount)
                        if(imageFinishCount == projectListLength) {
                            console.log("finish to get all images!")
                            parent.postMessage(
                                {
                                    pluginMessage: {
                                        type: 'onFetchProjectsData',
                                        images: imgArray,
                                        projects: result.projects
                                    }
                                },
                                '*'
                            );
                        }
                    });
            });
        })
}

async function fetchImageToArray(index, image_url, resultList) {
    let proxyurl = 'https://figma-proxy-server.herokuapp.com/';
    return new Promise(function (resolve, reject) {
        fetch(proxyurl + image_url)
            .then(response => response.arrayBuffer())
            .then(img => {
                resultList[index] = new Uint8Array(img)
            })
            .then(() => {
                resolve();
            })
            .catch(err => {
                reject(err);
            })
    });
}

async function fetchProjectsJSON() {
    return new Promise(function (resolve, reject) {
        var obj = JSON.parse(pjListJsonStr);
        resolve(obj);
    });

    // ---- Cross Origin Problem ----

    // let proxyurl = 'https://figma-proxy-server.herokuapp.com/';
    // // let api_url = "https://api.makuake.com/v2/projects"
    // let api_url = "https://api.makuake.com/v2/projects?page=1&per_page=15&category_code=product&sort=collected_money&is_ongoing=true"
    
    // // fetch(api_url)
    // fetch(proxyurl + api_url)
    //     .then(res => {
    //         console.log(res)
    //     })
    //     .catch(err => {
    //         console.log("fetch error!")
    //         console.log(err)
    //     })
}
</script>